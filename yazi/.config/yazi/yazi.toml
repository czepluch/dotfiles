# Yazi Configuration

[mgr]
ratio = [1, 4, 3]  # Sidebar, main, preview column widths
sort_by = "alphabetical"
sort_sensitive = false
sort_reverse = false
sort_dir_first = true
linemode = "size"  # Show file sizes
show_hidden = true
show_symlink = true
scrolloff = 5

[preview]
tab_size = 4
max_width = 600
max_height = 900
cache_dir = ""  # Use default cache
image_filter = "lanczos3"
image_quality = 80

[opener]
# Image viewer - imv for Wayland
image = [
  { run = 'imv "$@"', orphan = true, for = "linux" },
]

# Video player
video = [
  { run = 'mpv "$@"', orphan = true, for = "linux" },
]

# PDF viewer
pdf = [
  { run = 'zathura "$@"', orphan = true, for = "linux" },
]

# Text editor
edit = [
  { run = 'nvim "$@"', block = true, for = "linux" },
]

# Archives
archive = [
  { run = 'file-roller "$@"', orphan = true, for = "linux" },
]

[open]
rules = [
  # Images
  { name = "*.{jpg,jpeg,png,gif,bmp,webp,svg}", use = "image" },
  
  # Videos
  { name = "*.{mp4,mkv,avi,mov,webm,flv}", use = "video" },
  
  # PDFs
  { name = "*.pdf", use = "pdf" },
  
  # Archives
  { name = "*.{zip,tar,gz,bz2,xz,7z,rar}", use = "archive" },
  
  # Text/Code files - open in nvim
  { name = "*.{txt,md,markdown}", use = "edit" },
  { name = "*.{json,yaml,yml,toml,xml}", use = "edit" },
  { name = "*.{js,ts,jsx,tsx,mjs,cjs}", use = "edit" },
  { name = "*.{rs,go,py,rb,php,java,c,cpp,h,hpp}", use = "edit" },
  { name = "*.{sh,bash,zsh,fish}", use = "edit" },
  { name = "*.{sol,gleam,lua,vim}", use = "edit" },
  { name = "*.{html,css,scss,sass,less}", use = "edit" },
  { name = "*.{conf,ini,cfg,env}", use = "edit" },
  
  # Fallback - any other text file
  { mime = "text/*", use = "edit" },
]
